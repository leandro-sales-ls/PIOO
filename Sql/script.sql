
CREATE TABLE `publicity`.`category` (
  `GUID` VARCHAR(40) NOT NULL,
  `NOME` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`GUID`));


CREATE TABLE `publicity`.`advertiser` (
`GUID` VARCHAR(40) NOT NULL,
`NOME` VARCHAR(100),
`DOCUMENTO` VARCHAR(30),
`ENDERECO` VARCHAR(150),
`TELEFONE` VARCHAR(20),
`DATACRIACAO` DATETIME DEFAULT CURRENT_TIMESTAMP,
PRIMARY KEY (`GUID`))

CREATE TABLE `publicity`.`announcement` (
`GUID` VARCHAR(40) NOT NULL,
`GUIDANUNCIANTE` VARCHAR(40) NOT NULL,
`GUIDCATEGORIA` VARCHAR(40) NOT NULL,
`DATAVALIDADE` DATETIME NOT NULL,
`DATACRIACAO` DATETIME DEFAULT CURRENT_TIMESTAMP,
PRIMARY KEY(`GUID`)
)

CREATE TABLE `publicity`.`user` (
  `GUID` VARCHAR(40) NOT NULL,
  `NOME` VARCHAR(45) NOT NULL,
  `LOGIN` VARCHAR(45) NOT NULL,
  `SENHA` VARCHAR(45) NULL,
  PRIMARY KEY (`GUID`));

ALTER TABLE announcement 
ADD FOREIGN KEY (`GUIDANUNCIANTE`) REFERENCES ANUNCIANTE(`GUID`)

ALTER TABLE announcement 
ADD FOREIGN KEY (`GUIDCATEGORIA`) REFERENCES CATEGORIA(`GUID`)

ALTER TABLE `publicity`.`advertiser` 
ADD COLUMN `CIDADE` VARCHAR(45) NULL AFTER `DATACRIACAO`;

SELECT ANUNCIO.GUID, ANUNCIO.GUIDANUNCIANTE, ANUNCIO.GUIDCATEGORIA, ANUNCIO.DATAVALIDADE, ANUNCIO.DATACRIACAO, ANUNCIANTE.NOME, ANUNCIANTE.DOCUMENTO, ANUNCIANTE.ENDERECO, ANUNCIANTE.TELEFONE, 
                  CATEGORIA.NOME AS CATEGORIANOME
FROM     ANUNCIO INNER JOIN
                  ANUNCIANTE ON ANUNCIANTE.GUID = ANUNCIO.GUIDANUNCIANTE INNER JOIN
                  CATEGORIA ON CATEGORIA.GUID = ANUNCIO.GUIDCATEGORIA

LOCK TABLES `advertiser` WRITE;
INSERT INTO `advertiser` VALUES ('6c8c380d-b5d4-44b8-835b-b317b51053c2','novo advertiser tira isso aqui','0123456789','teste endereco','0123456789','2018-01-21 09:52:44','testetse'),('76258549-14c2-4ddd-85c3-ab7810ff44de','Leandro Sales'rua modesta, 120','85987752207','2018-01-21 09:50:41','fortaleza');
UNLOCK TABLES;


LOCK TABLES `announcement` WRITE;
INSERT INTO `announcement` VALUES ('11639eca-befd-4268-9b08-94f43b2a7411','76258549-14c2-4ddd-85c3-ab7810ff44de','2e8a8188-8915-40cd-80e7-d956ff36019e','2018-01-21 18:10:33','2018-01-21 18:10:33'),('443c5e20-3bc0-4e8b-b11d-faf188146ee5','6c8c380d-b5d4-44b8-835b-b317b51053c2','229678bb-79f9-4bbb-ac01-7346396b0100','2018-01-21 18:10:29','2018-01-21 18:10:29');
UNLOCK TABLES;


LOCK TABLES `category` WRITE;
INSERT INTO `category` VALUES ('229678bb-79f9-4bbb-ac01-7346396b0100','Profissional'),('2e8a8188-8915-40cd-80e7-d956ff36019e','Cama mesa e banho'),('7a96b7be-7ea8-409b-9ce8-719583bb9d61','Casa e cozinha'),('9d3467ce-de59-4ca0-845e-e4dc283f146a','Beleza'),('ff0d19c7-3932-416c-bd7a-6a77e70f4f7d','transporte');
UNLOCK TABLES;


LOCK TABLES `user` WRITE;
INSERT INTO `user` VALUES ('280d14c1-5533-4ec0-9db7-1409be862126','novoUsuario','teste3','teste4'),('43617ae9-1549-45bf-bf02-32964be0bfa6','novoUsuario','teste3','123456'),('47324185-4735-4157-9cb2-304858f15793','teste1','teste1','123546'),('581e3a86-9126-42ad-9b1e-7f80a522bb18','teste5','teste6','123456'),('7df6d488-35c9-4d78-8268-7ba152124282','teste','teste','123456'),('87832965-dd06-4ae2-a002-6b8562f206f8','novoUsuario','teste3','teste4'),('889bca0b-ea79-47ae-bccf-0f51d6b0079b','admin','admin','123456'),('9a65e8ef-203f-4b7f-9bae-4db68afe1244','teste6','teste6','123456'),('a010cb4b-76bc-4282-91b9-2b0413bbc828','novoUsuario','teste3','teste4'),('c3baa831-47a0-4bb8-a1df-9387d71155c2','novoUsuario','teste3','123456'),('d8766aa7-0cfd-4fae-9e9b-541c5342201c','login1','teste5','123456');
UNLOCK TABLES;